# Reports

Fetch generated reports when ready

```ts
const reportsController = new ReportsController(client);
```

## Class Name

`ReportsController`

## Methods

* [Get Prequalification Report by Customer](../../doc/controllers/reports.md#get-prequalification-report-by-customer)
* [Get Reports by Customer](../../doc/controllers/reports.md#get-reports-by-customer)
* [Get Reports by Consumer](../../doc/controllers/reports.md#get-reports-by-consumer)
* [Get Report by Consumer](../../doc/controllers/reports.md#get-report-by-consumer)


# Get Prequalification Report by Customer

Get a report that has been generated by calling one of the "Generate Report" services.

The report's status field will contain `inProgress`, `failure`, or `success`. If the status shows `inProgress`, the client app should wait 20 seconds and then call this endpoint again.

_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)

```ts
async getPrequalificationReportByCustomer(
  customerId: string,
  reportId: string,
  onBehalfOf: string,
  purpose?: string,
  requestOptions?: RequestOptions
): Promise<ApiResponse<PrequalificationReport>>
```

## Parameters

| Parameter | Type | Tags | Description |
|  --- | --- | --- | --- |
| `customerId` | `string` | Template, Required | A Finicity customer ID |
| `reportId` | `string` | Template, Required | Finicity's ID of the report |
| `onBehalfOf` | `string` | Query, Required | The name of the entity you are retrieving the report on behalf of |
| `purpose` | `string \| undefined` | Query, Optional | 2-digit code from [Permissible Purpose Codes](https://docs.finicity.com/permissible-purpose-codes/), specifying the reason for retrieving this report. |
| `requestOptions` | `RequestOptions \| undefined` | Optional | Pass additional request options. |

## Response Type

[`PrequalificationReport`](../../doc/models/prequalification-report.md)

## Example Usage

```ts
const customerId = '1005061234';

const reportId = 'u4hstnnak45g';

const onBehalfOf = 'Some entity';

const purpose = '99';

try {
  // @ts-expect-error: unused variables
  // eslint-disable-next-line @typescript-eslint/no-unused-vars
  const { result, ...httpResponse } = await reportsController.getPrequalificationReportByCustomer(
  customerId,
  reportId,
  onBehalfOf,
  purpose
);
  // Get more response info...
  // const { statusCode, headers } = httpResponse;
} catch (error) {
  if (error instanceof ApiError) {
    // @ts-expect-error: unused variables
    // eslint-disable-next-line @typescript-eslint/no-unused-vars
    const errors = error.result;
    // const { statusCode, headers } = error;
  }
}
```

## Errors

| HTTP Status Code | Error Description | Exception Class |
|  --- | --- | --- |
| 400 | The request was rejected | [`ErrorMessageError`](../../doc/models/error-message-error.md) |
| 401 | The request lacks valid authentication credentials. Check "Finicity-App-Key" or "Finicity-App-Token". | [`ErrorMessageError`](../../doc/models/error-message-error.md) |
| 404 | The resource doesn't exist | [`ErrorMessageError`](../../doc/models/error-message-error.md) |


# Get Reports by Customer

Get all reports that have been generated by calling one of the "Generate Report" services for the given customer.

The report's status field will contain `inProgress`, `failure`, or `success`. If the status shows `inProgress`, the client app should wait 20 seconds and then call this endpoint again.

_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)

```ts
async getReportsByCustomer(
  customerId: string,
  purpose?: string,
  requestOptions?: RequestOptions
): Promise<ApiResponse<ReportSummaries>>
```

## Parameters

| Parameter | Type | Tags | Description |
|  --- | --- | --- | --- |
| `customerId` | `string` | Template, Required | A Finicity customer ID |
| `purpose` | `string \| undefined` | Query, Optional | 2-digit code from [Permissible Purpose Codes](https://docs.finicity.com/permissible-purpose-codes/), specifying the reason for retrieving this report. |
| `requestOptions` | `RequestOptions \| undefined` | Optional | Pass additional request options. |

## Response Type

[`ReportSummaries`](../../doc/models/report-summaries.md)

## Example Usage

```ts
const customerId = '1005061234';

const purpose = '99';

try {
  // @ts-expect-error: unused variables
  // eslint-disable-next-line @typescript-eslint/no-unused-vars
  const { result, ...httpResponse } = await reportsController.getReportsByCustomer(
  customerId,
  purpose
);
  // Get more response info...
  // const { statusCode, headers } = httpResponse;
} catch (error) {
  if (error instanceof ApiError) {
    // @ts-expect-error: unused variables
    // eslint-disable-next-line @typescript-eslint/no-unused-vars
    const errors = error.result;
    // const { statusCode, headers } = error;
  }
}
```

## Errors

| HTTP Status Code | Error Description | Exception Class |
|  --- | --- | --- |
| 400 | The request was rejected | [`ErrorMessageError`](../../doc/models/error-message-error.md) |
| 401 | The request lacks valid authentication credentials. Check "Finicity-App-Key" or "Finicity-App-Token". | [`ErrorMessageError`](../../doc/models/error-message-error.md) |
| 404 | The resource doesn't exist | [`ErrorMessageError`](../../doc/models/error-message-error.md) |
| 429 | The service can't accept more requests or is not available from the [Test Drive](https://signup.finicity.com/). | `ApiError` |


# Get Reports by Consumer

Get a report that has been generated by calling one of the "Generate Report" services.

The report's status field will contain `inProgress`, `failure`, or `success`. If the status shows `inProgress`, the client app should wait 20 seconds and then call this endpoint again.

_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)

```ts
async getReportsByConsumer(
  consumerId: string,
  purpose?: string,
  requestOptions?: RequestOptions
): Promise<ApiResponse<ReportSummaries>>
```

## Parameters

| Parameter | Type | Tags | Description |
|  --- | --- | --- | --- |
| `consumerId` | `string` | Template, Required | The consumer ID |
| `purpose` | `string \| undefined` | Query, Optional | 2-digit code from [Permissible Purpose Codes](https://docs.finicity.com/permissible-purpose-codes/), specifying the reason for retrieving this report. |
| `requestOptions` | `RequestOptions \| undefined` | Optional | Pass additional request options. |

## Response Type

[`ReportSummaries`](../../doc/models/report-summaries.md)

## Example Usage

```ts
const consumerId = '0bf46322c167b562e6cbed9d40e19a4c';

const purpose = '99';

try {
  // @ts-expect-error: unused variables
  // eslint-disable-next-line @typescript-eslint/no-unused-vars
  const { result, ...httpResponse } = await reportsController.getReportsByConsumer(
  consumerId,
  purpose
);
  // Get more response info...
  // const { statusCode, headers } = httpResponse;
} catch (error) {
  if (error instanceof ApiError) {
    // @ts-expect-error: unused variables
    // eslint-disable-next-line @typescript-eslint/no-unused-vars
    const errors = error.result;
    // const { statusCode, headers } = error;
  }
}
```

## Errors

| HTTP Status Code | Error Description | Exception Class |
|  --- | --- | --- |
| 400 | The request was rejected | [`ErrorMessageError`](../../doc/models/error-message-error.md) |
| 401 | The request lacks valid authentication credentials. Check "Finicity-App-Key" or "Finicity-App-Token". | [`ErrorMessageError`](../../doc/models/error-message-error.md) |
| 404 | The resource doesn't exist | [`ErrorMessageError`](../../doc/models/error-message-error.md) |
| 429 | The service can't accept more requests or is not available from the [Test Drive](https://signup.finicity.com/). | `ApiError` |


# Get Report by Consumer

Get a report that has been generated by calling one of the "Generate Report" services.

The report's status field will contain `inProgress`, `failure`, or `success`. If the status shows `inProgress`, the client app should wait 20 seconds and then call this endpoint again.

_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)

```ts
async getReportByConsumer(
  consumerId: string,
  reportId: string,
  onBehalfOf: string,
  purpose?: string,
  requestOptions?: RequestOptions
): Promise<ApiResponse<AuditableReport>>
```

## Parameters

| Parameter | Type | Tags | Description |
|  --- | --- | --- | --- |
| `consumerId` | `string` | Template, Required | The consumer ID |
| `reportId` | `string` | Template, Required | Finicity's ID of the report |
| `onBehalfOf` | `string` | Query, Required | The name of the entity you are retrieving the report on behalf of |
| `purpose` | `string \| undefined` | Query, Optional | 2-digit code from [Permissible Purpose Codes](https://docs.finicity.com/permissible-purpose-codes/), specifying the reason for retrieving this report. |
| `requestOptions` | `RequestOptions \| undefined` | Optional | Pass additional request options. |

## Response Type

[`AuditableReport`](../../doc/models/auditable-report.md)

## Example Usage

```ts
const consumerId = '0bf46322c167b562e6cbed9d40e19a4c';

const reportId = 'u4hstnnak45g';

const onBehalfOf = 'Some entity';

const purpose = '99';

try {
  // @ts-expect-error: unused variables
  // eslint-disable-next-line @typescript-eslint/no-unused-vars
  const { result, ...httpResponse } = await reportsController.getReportByConsumer(
  consumerId,
  reportId,
  onBehalfOf,
  purpose
);
  // Get more response info...
  // const { statusCode, headers } = httpResponse;
} catch (error) {
  if (error instanceof ApiError) {
    // @ts-expect-error: unused variables
    // eslint-disable-next-line @typescript-eslint/no-unused-vars
    const errors = error.result;
    // const { statusCode, headers } = error;
  }
}
```

## Errors

| HTTP Status Code | Error Description | Exception Class |
|  --- | --- | --- |
| 400 | The request was rejected | [`ErrorMessageError`](../../doc/models/error-message-error.md) |
| 401 | The request lacks valid authentication credentials. Check "Finicity-App-Key" or "Finicity-App-Token". | [`ErrorMessageError`](../../doc/models/error-message-error.md) |
| 404 | The resource doesn't exist | [`ErrorMessageError`](../../doc/models/error-message-error.md) |

